### 为什么使用组件工厂？
写 jQuery 插件简单的就像在 jQuery.prototype（通常看作是 $.fn） 添加一个方法，并且遵循一些简单的惯例，比如返回`thie`用作链式调用。所以为什么要存在组件工厂呢？为什么是数百行代码呢。
在这个文档，我们将遍历组件工厂的好处，并找出什么时候和为什么用它有意义。
### 无状态和有状态的插件
大部分 jQuery 插件都是无状态的；他们执行一些动作，然后他们的工作就完了。比如，如果你使用`.text('hello')`，没有设置过程，但是结果都是一样的。这种类型的插件，对扩展 jQuery 的原型是有意义的。

然而，一些组件是有状态的；他们有完整的生命周期，维护状态，和变化响应。这些插件需要很多的代码贡献给初始化和状态管理（有时候需要解构）。这导致了大量构建有状态插件的样板。更糟糕的是，每一个插件作者可能用不同的方式管理生命周期和状态。组件工厂是为了解决这些问题，移除样板，创建一个跨插件的一致 API。
### 一致的 API
组件工厂定义了怎样创建和摧组件，获取和设置配置，调用方法，监听组件触发的事件。通过使用组件工厂去创建你的有状态的插件，你会自动确认去定义标准，让它让新用户开始使用你的插件变得简单。为了定义这个接口，组件工厂组件工厂为你实现了很多功能，如果你对组件工厂提供的 API 不熟悉，你应该阅读[jQuery UI
 是怎样工作的]()。
### 在初始化的时候设置配置
当你构建需要配置的插件的时候，你应该尽可能多的定义默认的配置，然后在初始化的时候和用户提供的配置合并。将默认配置暴露给用户，甚至让用户修改默认值也是很好的想法。jQuery 插件一个普通的模式大概看起来像这样：
```
$.fn.plugin = function( options ) {
    options = $.extend( {}, $.fn.plugin.defaults, options );
    // Plugin logic goes here.
};
 
$.fn.plugin.defaults = {
    param1: "foo",
    param2: "bar",
    param3: "baz"
};
```
组件工厂提供了这个功能，甚至更多。让我们看看这个模式使用组件工厂则呢实现吧：
```
$.widget( "ns.plugin", {
 
    // Default options.
    options: {
        param1: "foo",
        param2: "bar",
        param3: "baz"
    },
 
    _create: function() {
        // Options are already merged and stored in this.options
        // Plugin logic goes here.
    }
 
});
```